<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morgan Evans: Follow Pointer Navigation Bar</title>

    <!-- Link in the font to use for my name at the top left of the website. -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bruno+Ace&display=swap" rel="stylesheet">

    <!-- Link in global stylesheet rules used throughout the website. -->
    <link rel="stylesheet" href="../global.css">

    <!-- Link in the global JavaScript file -->
    <script src="../global.js"></script>

    <!-- Link in the follow-navbar component -->
    <script type="module" src="./shared/follow-navbar.js"></script>

    <style>
        .main-content {
            margin: 0;
            padding: 40px;
            background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80') no-repeat center center fixed;
            background-size: cover;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            font-size: 0.8em !important;
        }

        .nav-container {
            background: hsl(0 0% 0% / 0.55);
            backdrop-filter: blur(10px);
            will-change: backdrop-filter;
            padding: 8px;
            border-radius: 8px;
            margin: 0 !important;
        }

        .main-content p {
            font-size: 1em !important;
            padding: 20px !important;
            background: rgba(255 255 255 / 0.66);
            border-radius: 8px;
            font-size: 1.5em;
            color: #333 !important;
        }

        .main-content div.nav-container + p {
            margin-top: 10px;
        }
    </style>
</head>
<body onload="init()">
    <div class="top-bar">
        <div class="myname">morgan evans</div>
        <follow-navbar font-size="1em">
            <a href="../index.html">Home</a>
            <a href="">About Me</a>
            <a href="">Portfolio</a>
            <a href="">Playground</a>
            <a href="../tutorials.html">Tutorials</a>
            <a href="">Blog</a>
            <a href="">Contact</a>
        </follow-navbar>
        <div class="social">
            <a href="https://www.linkedin.com/in/morgan-evans-31ab90195" target="_blank"><img src="../images/icons/icons8-linkedin-96.png"></a>
            <a href="https://github.com/gittymo" target="_blank"><img src="../images/icons/icons8-github-96.png" style="background-image: radial-gradient(circle at 50% 60%, white, white 35%, transparent);"></a>
            <a href="https://www.facebook.com/FaceMorgan" target="_blank"><img src="../images/icons/icons8-facebook-96.png"></a>
        </div>
    </div>
    <div class="sub-links" id="content">
        <h2>Follow Pointer Navigation Bar</h2>
        <p>Wow, this little project has grown and grown.  Firstly, I've kept most of the content that was in the original web page, as it is still relevant to how things work when it comes to the way the animation tracks the mouse pointer as it moves over the navigation bar links.</p>
        <p>However, when I brought the page into this site in a way that would keep the visual layout of everything in tact, it totally broke
            the navigation bar at the top, because that navigation bar actually uses the same style sheets!</p>
        <p>So, I re-built the entire thing as a custom HTML element called <code>&lt;follow-navbar&gt;</code> and added some nice quality-of-life features.  Firstly, you can now control how deep you want the follow bar (the bit that tracks the mouse pointer) to be, how fast it moves and the font size of the links.  You can also define the colour of the follow bar when it hovers over a navigation element by setting the 'follow-colour' attribute on each element (if it's not set, it just uses the default steelblue colour).</p>
        <p>Now, as you can see, you can have more than one navigation bar on a page and each can have its own formatting (and of course the elements can be further formatted using CSS).</p>
    </div>
    <script>
       createBackButton('content');
    </script>
    <div class="main-content">
        <div class="nav-container">
            <follow-navbar font-size="1.5em" follow-height="10px" follow-speed="200ms">
                <span follow-colour="#4eff4e">Home</span>
                <span follow-colour="#ff6b6b">About</span>
                <span follow-colour="#4ecdc4">Products</span>
                <span follow-colour="#ffe66d">Services</span>
                <span follow-colour="#95e1d3">Blog</span>
                <span follow-colour="#ff4eff">Contact</span>
            </follow-navbar>
        </div>
        <p>Wow, so this was a bit of a nightmare to get right.  The navigation bar animation is completely CSS controlled and really isn't too complicated in itself. Essentially just using an <code>::after</code> pseudo element to create the coloured bar which is anchored to the left, right and bottom edges of whichever element represents its anchor point.</p>
        <p>Initially (where the mouse isn't hovering over a "link"), the <code>::after</code> pseudo element is anchored to the <code>&lt;nav&gt;</code> element itself, and so it stretches out across the width of the nav bar.<br><br>  When the mouse hovers over a link, the anchor point is moved to that link element.  A CSS transition is set up to animate the left, right and top positions (and colour) of the <code>::after</code> pseudo element, meaning that wherever the anchor pointmoves, the coloured bar will smoothly transition its co-ordinates until they match the dimensions of the target element (link).<br><br> When the mouse leaves the element (link), the anchor point reverts back to its host nav element (the nav bar).</p>
        <p>What made this navigation bar particularly tricky is that the nav bar background uses a backdrop-filter property to blur the image behind it.  Using a filter causes the host element to create a new stacking and container context that hides any pseudo elements attached to their base element.  In effect, this caused the <code>::after</code> pseudo element to disappear from the nav bar when no link is active. The blur doesn't affect the link elements,as they are on a separate layer.<br><br>
        To get around this, I kind-of-cheated and created a nav bar container element that deals with the blurring of the background, placing the nav-bar and its <code>::after</code> pseudo element on the layer above it, allowing the transitions to be correctly handled by the nav bar CSS rules. A bit ugly, but it works!</p>
    </div>
    <div class="bottom-bar">&copy;2005 Morgan Evans - <a target="_blank" href="https://icons8.com/icon/xuvGCOXi8Wyg/linkedin">LinkedIn, GitHub and Facebook</a> icons by <a target="_blank" href="https://icons8.com">Icons8</a></div>
</body>
</html>